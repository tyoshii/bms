{% extends "layout.twig" %}

{% macro inning_fraction() %}
<select class="inning fraction">
<option value="0">--</option>
{% for i in 0..3 %}
<option value="{{i}}/3">{{i}}/3</option>
{% endfor %}
</select>
{% endmacro %}

{% macro result() %}
<select class="result">
<option value=""></option>
<option value="win">勝</option>
<option value="lose">負</option>
<option value="save">セーブ</option>
<option value="hold">ホールド</option>
</select>
{% endmacro %}



{% block content %}

{% import 'game-nav.twig' as nav %}
{{ nav.navigation() }}

<table class="table">
<thead>
<tr>
<th class="name">名前</th>
<th class="number">＃</th>
<th>投球回</th>
<th>勝敗</th>
<th>自責点</th>
<th>失点</th>
</tr>
</thead>

{% set already = [] %}

{% for player in players %}
{% set flag = false %}

{% for i in player.position if flag == false %}

{% if i == 1 and player.number not in already %}
{% set flag = true %}
{% set already = already|merge([player.number]) %}
{% endif %}
{% endfor %}

{% if flag == true %}
<tr>
<td>{{player.name}}</td>
<td>{{player.number}}</td>
{# 投球回 #}
{# 投球回 0/3 1/3 2/3 #}
<td>
<input class="inning_int" min="0" type="number">
{{_self.inning_fraction()}}
</td>
<td>{{_self.result()}}</td>
<td><input class="earned_runs" type="number" min="0"></td>
<td><input class="runs" type="number" min="0"></td>
</tr>
{% endif %}

{% endfor %}

</table>

<button class="btn btn-success" onClick="alert('korekara');">登録</button>

{% endblock content %}

{% block js %}
{{ parent() }}
{% include 'game-js.twig' %}
{% endblock %}
